# üìú –ü—Ä–∞–≤–∏–ª–∞ –∏ –£—Å–ª–æ–≤–∏—è JuicyPoint (–ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã)

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π, —Å–∫–∏–¥–æ–∫ –∏ –∞–∫—Ü–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ.

---

## 1. üè∑Ô∏è –ê–ö–¶–ò–ò (–°–∫–∏–¥–∫–∏ –≤ —Ä—É–±–ª—è—Ö)
*–°–∫–∏–¥–∫–∏ —É–º–µ–Ω—å—à–∞—é—Ç —Å—É–º–º—É –∑–∞–∫–∞–∑–∞ –≤ —Ä—É–±–ª—è—Ö.*

### üî• –°–∫–∏–¥–∫–∞ –ù–æ–≤–∏—á–∫–∞ (Welcome Discount)
*   **–†–∞–∑–º–µ—Ä:** **10%** –Ω–∞ –∫–æ—Ä–∑–∏–Ω—É.
*   **–£—Å–ª–æ–≤–∏–µ:** –ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (—Å—Ç–∞—Ç—É—Å `is_new: true`).
*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã –≤ `doPost`.
*   **–ó–∞—â–∏—Ç–∞:** –ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–ª–∏–µ–Ω—Ç –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç —Ñ–ª–∞–≥, —Å–∫–∏–¥–∫–∞ –∞–Ω–Ω—É–ª–∏—Ä—É–µ—Ç—Å—è.

---

## 2. üíé –ë–û–ù–£–°–ù–ê–Ø –ü–†–û–ì–†–ê–ú–ú–ê (–ë–∞–ª–ª—ã)
*–ë–∞–ª–ª—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Å—á–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤ Supabase.*

### üîÑ –ö—ç—à–±—ç–∫ (–õ–∏—á–Ω—ã–π)
*   **–†–∞–∑–º–µ—Ä:** **2%** –æ—Ç —Å—É–º–º—ã –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞.
*   **–§–æ—Ä–º—É–ª–∞:** `order.total * 0.02` (–¢–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç, –≤–∫–ª—é—á–∞—è –¥–æ–ª–∏).
*   **–ü—Ä–∏–º–µ—Ä:** –° –ø–æ–∫—É–ø–∫–∏ 1000‚ÇΩ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è **20 –±–æ–Ω—É—Å–æ–≤**.

### üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (–ü—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞)
1.  **–ë–æ–Ω—É—Å –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:**
    *   **–ü—Ä–∏–≥–ª–∞—Å–∏–≤—à–µ–º—É:** **+100** –±–æ–Ω—É—Å–æ–≤ (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ, –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –¥—Ä—É–≥–∞).
    *   **–î—Ä—É–≥—É (–ù–æ–≤–∏—á–∫—É):** **+100** –±–æ–Ω—É—Å–æ–≤ (–µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ, –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏).
2.  **–ë–æ–Ω—É—Å —Å –ø–æ–∫—É–ø–æ–∫ –¥—Ä—É–≥–∞ (–ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π):**
    *   **–†–∞–∑–º–µ—Ä:** **1%** –æ—Ç —Å—É–º–º—ã –ø–æ–∫—É–ø–æ–∫ –¥—Ä—É–≥–∞.
    *   **–§–æ—Ä–º—É–ª–∞:** `order.total * 0.01`.
    *   **–ü—Ä–∏–º–µ—Ä:** –î—Ä—É–≥ –∫—É–ø–∏–ª –Ω–∞ 1000‚ÇΩ ‚Üí –≤—ã –ø–æ–ª—É—á–∏–ª–∏ **10 –±–æ–Ω—É—Å–æ–≤**.

### üí∞ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤
*   **–ö—É—Ä—Å:** 1 –±–æ–Ω—É—Å = 1 —Ä—É–±–ª—å —Å–∫–∏–¥–∫–∏.
*   **–ü—Ä–∞–≤–∏–ª–æ —Å–ø–∏—Å–∞–Ω–∏—è:** –°–ø–∏—Å—ã–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ **—Ü–µ–ª—ã–µ** –±–æ–Ω—É—Å—ã (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑). –î—Ä–æ–±–Ω—ã–µ —á–∞—Å—Ç–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å–µ.

---

## 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
*   –ë–∞–ª–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î –∫–∞–∫ –¥—Ä–æ–±–Ω—ã–µ —á–∏—Å–ª–∞ `float` (–¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è).
*   –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Google Apps Script (`Code.js`), —Ñ—É–Ω–∫—Ü–∏—è `processOrderBonuses`.
