<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juicy Puff | –ü—Ä–æ—Ñ–∏–ª—å</title>
    <link rel="stylesheet" href="css/style.css?v=V_LATEST">
    <link rel="stylesheet" href="css/css_chunk_profile.css?v=V_LATEST">
    <link rel="stylesheet" href="css/css_sidebar.css?v=V_LATEST">
    <link rel="stylesheet" href="css/css_chunk_responsive.css?v=V_LATEST">
    <link rel="stylesheet" href="css/modals.css?v=V_LATEST">
    <script src="js/telegram-web-app.js"></script>

</head>

<body>

    <div class="container profile-container">

        <!-- User Profile Header -->
        <div class="profile-hero">
            <div class="profile-avatar-wrapper">
                <img id="profile-avatar" src="img/default-avatar.png" alt="–ê–≤–∞—Ç–∞—Ä" class="profile-avatar">
                <div class="avatar-edit-btn" onclick="editAvatar()">
                    <span>‚úèÔ∏è</span>
                </div>
                <div class="online-indicator"></div>
            </div>

            <div class="profile-info">
                <h1 id="profile-name" class="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                <div id="profile-name-input" class="profile-name-input" style="display: none;">
                    <input type="text" id="name-edit-field" class="name-input" placeholder="–í–∞—à–µ –∏–º—è">
                    <button onclick="saveName()" class="save-name-btn">‚úì</button>
                </div>
                <button class="edit-name-btn" onclick="editName()">‚úèÔ∏è</button>

                <p class="profile-subtitle">–í–µ–π–ø—à–æ–ø "Juicy Puff"</p>
            </div>
        </div>

        <!-- Bonus Card (Non-clickable) -->
        <div class="bonus-card">
            <div class="bonus-icon">üíé</div>
            <div class="bonus-info">
                <div class="bonus-label">–í—Å–µ–≥–æ –±–æ–Ω—É—Å–æ–≤</div>
                <div id="bonus-amount" class="bonus-amount">Loading...</div>
            </div>
            <button onclick="refreshBonuses()" class="bonus-refresh-btn" title="–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å">
                üîÑ
            </button>
        </div>

        <!-- Active Promotions Button -->
        <button onclick="showPromoModal()" class="profile-menu-btn promo-nav-btn"
            style="margin-top: 15px; margin-bottom: 5px;">
            <span class="icon-spacer">üéÅ</span> –ú–æ–∏ —Å–∫–∏–¥–∫–∏
        </button>

        <!-- Profile Navigation Buttons -->
        <div class="profile-menu-buttons">
            <a href="referral.html" class="profile-menu-btn referral-nav-btn">
                <span class="icon-spacer">üîó</span> –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
            </a>
            <a href="orders.html" class="profile-menu-btn orders-nav-btn">
                <span class="icon-spacer">üìú</span> –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
            </a>
        </div>

    </div>

    <!-- Hidden file input for avatar upload -->
    <input type="file" id="avatar-upload-input" accept="image/*" style="display: none;"
        onchange="handleAvatarUpload(event)">

    <!-- Sidebar Menu Script -->
    <script src="js/sidebar.js?v=V_LATEST"></script>
    <script type="module" src="js/profile.js?v=V_LATEST"></script>

    <!-- Modal will be loaded dynamically by js/profile.js -->

    <!-- Hamburger Menu Button -->
    <button onclick="openSidebar()" class="hamburger-btn">‚ò∞</button>

</body>

</html>